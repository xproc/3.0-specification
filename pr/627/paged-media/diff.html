<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!--Generated by the DeltaXML.com xhtml-outfilter.xsl--><!--Using XSL Processor: Saxonica--><title>XProc 3.1: paged media steps</title><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" /><link class="removeOnSave" crossorigin="anonymous" href="https://www.w3.org" rel="preconnect" /><link as="script" class="removeOnSave" href="js/fixup.js" rel="preload" /><link as="style" class="removeOnSave" href="css/base.css" rel="preload" /><link as="image" class="removeOnSave" href="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" rel="preload" /><link rel="stylesheet" href="css/cg-draft.css" /><link rel="stylesheet" href="css/respec.css" /><link rel="alternate" title="XML" href="specification.xml" /><meta name="generator" content="DocBook XSL 2.0 Stylesheets V2.5.0" /><meta name="description" content="Abstract This specification describes the p:css-formatter&#xA;and p:xsl-formatter&#xA;steps for&#xA;XProc 3.1: An XML Pipeline Language." /><link href="css/default.css" rel="stylesheet" type="text/css" /><link href="css/db-prism.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="css/base.css" /><link rel="stylesheet" type="text/css" href="css/xproc.css" /><link rel="stylesheet" type="text/css" href="css/print.css" media="print" /><script type="text/javascript" src="js/dbmodnizr.js"></script><style type="text/css">
          body { margin-top: 50px }
          a.button { background: #DDD; border: 2px outset black; padding: 2px; margin: 2px; font-family: sans-serif; font-size: small;}
          a.button:hover { cursor:pointer; }
          a.button:active { border-style: inset; }
        </style><link rel="stylesheet" href="/css/autodiff.css" /></head><body class="h-entry informative toc-sidebar"><div style="position:fixed; clear:both; top:0px" id="_autodiff_buttons"><p><a class="button" onclick="view('old')">
              View Old
            </a><a class="button" onclick="view('new')">
              View New
            </a><a class="button" onclick="view('both')">
              View Both
            </a><a class="button" onclick="view('only')">
              View Only
            </a><a class="button" onclick="scroll_to('prev')">
              Previous
            </a><a class="button" onclick="scroll_to('next')">
              Next
            </a><span id="__autodiff__"></span></p></div><div class="head" id="spec.head"><a class="logo" href="https://www.w3.org/"><img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72" /></a><h1 id="title" class="title p-name">XProc 3.1: paged media steps</h1><h2>Draft Community Group Report <time class="dt-published" datetime="2024-09-11"><span class="deltaxml-old" style="background:#FF5555">8</span><span class="deltaxml-new" style="background:#90EE90">11</span> September 2024</time></h2><div class="editors-draft">Editor's Draft at <time class="dt-timestamp" datetime="20240911T12:46:15Z"><span class="deltaxml-old" style="background:#FF5555">11:48</span><span class="deltaxml-new" style="background:#90EE90">12:46</span> UTC</time> (<a href="https://github.com/xproc//commit/4860ee07ab3dd56f62f8f720a8d21d555d387a99">build <span class="deltaxml-old" style="background:#FF5555">63</span><span class="deltaxml-new" style="background:#90EE90">90</span></a>)</div><dl><dt>Latest editor’s draft:</dt><dd><a href="https://spec.xproc.org/master/head/paged-media/">https://spec.xproc.org/master/head/paged-media/</a></dd><dt>Editors:</dt><dd><span class="personname">Norman Walsh</span></dd><dd><span class="personname">Achim Berndzen</span></dd><dd><span class="personname">Gerrit Imsieke</span></dd><dd><span class="personname">Erik Siegel</span></dd><dt>Participate:</dt><dd><a href="http://github.com/xproc/3.0-steps">GitHub xproc/3.0-steps</a></dd><dd><a href="http://github.com/xproc/3.0-steps/issues">Report an issue</a></dd><dt>Changes:</dt><dd><a href="diff.html">Diff against current “status quo” draft</a></dd><dd><a href="http://github.com/xproc//commits/">Commits for this specification</a></dd></dl><p>This document is also available in these non-normative formats: <a href="specification.xml">XML</a> and HTML with automatic change markup courtesy of <a href="http://www.deltaxml.com/">DeltaXML</a>.</p><p class="copyright"><a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © <span class="years">2018, 2019, 2020</span> the Contributors to the <cite>XProc 3.1: paged media steps</cite> specification, published by the <a href="https://www.w3.org/community/xproc-next/">XProc Next Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>. A human-readable <a href="https://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available.</p><hr title="Separator for header" /><section id="abstract" class="introductory"><h2>Abstract</h2><p>This specification describes the <code class="code">p:css-formatter</code> and <code class="code">p:xsl-formatter</code> steps for <em class="citetitle">XProc 3.1: An XML Pipeline Language</em>.</p></section><section id="sotd" class="introductory"><h2>Status of this Document</h2><p><strong>This document is an editor's draft that has no official standing.</strong></p><p>This specification was published by the <a href="https://www.w3.org/community/xproc-next/">XProc Next Community Group</a>. It is not a W3C Standard nor is it on the W3C Standards Track. Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply. Learn more about <a href="https://www.w3.org/community/">W3C Community and Business Groups</a>. </p><p>If you wish to make comments regarding this document, please send them to <a href="mailto:xproc-dev@w3.org">xproc-dev@w3.org</a>. (<a href="mailto:xproc-dev-request@w3.org?subject=subscribe">subscribe</a>, <a href="https://lists.w3.org/Archives/Public/xproc-dev/">archives</a>). </p><p>This document is derived from <a href="https://www.w3.org/TR/2010/REC-xproc-20100511/">XProc: An XML Pipeline Language</a> published by the W3C.</p><div class="note editorial admonition"><h3>Note</h3><div class="admonition-body"><p>This draft is the “editor’s working draft” and may continue to evolve. </p></div></div></section></div><div class="lists-of-titles"><nav id="toc"><h2 id="TableOfContents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a></li><li class="tocline"><a class="tocxref" href="#library"><bdi class="secno">2. </bdi>Step library</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#c.css-formatter"><bdi class="secno">2.1. </bdi>p:css-formatter</a></li><li class="tocline"><a class="tocxref" href="#c.xsl-formatter"><bdi class="secno">2.2. </bdi>p:xsl-formatter</a></li></ul></li><li class="tocline"><a class="tocxref" href="#errors"><bdi class="secno">3. </bdi>Step Errors</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">A. </bdi>Conformance</a><ul class="toc"><li class="tocline"><a class="tocxref" href="#implementation-defined"><bdi class="secno">A.1. </bdi>Implementation-defined features</a></li></ul></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>References</a></li><li class="tocline"><a class="tocxref" href="#glossary"><bdi class="secno">C. </bdi>Glossary</a></li><li class="tocline"><a class="tocxref" href="#ancillary-files"><bdi class="secno">D. </bdi>Ancillary files</a></li></ol></nav></div><article class="specification"><section id="introduction" class="section"><div class="section-titlepage"><h2><bdi class="secno">1. </bdi>Introduction<a aria-label="§" class="self-link" href="#introduction"></a></h2></div><div class="content"><p>This specification describes the <code class="code">p:css-formatter</code> and <code class="code">p:xsl-formatter</code> XProc steps. A machine-readable description of these steps may be found in <a href="steps.xpl">steps.xpl</a>. </p><p>Familarity with the general nature of [<a href="#xproc31"><span class="abbrev">XProc 3.1</span></a>] steps is assumed.</p></div></section><section id="library" class="section"><div class="section-titlepage"><h2><bdi class="secno">2. </bdi>Step library<a aria-label="§" class="self-link" href="#library"></a></h2></div><div class="content"><section id="c.css-formatter" class="section"><div class="section-titlepage"><h3><bdi class="secno">2.1. </bdi>p:css-formatter<a aria-label="§" class="self-link" href="#c.css-formatter"></a></h3></div><div class="content"><p>The <code class="tag-element">p:css-formatter</code> step applies [<a href="#CSS"><span class="abbrev">CSS</span></a>] formatting to an XML or HTML document. The output of this step is often, but not necessarily, a PDF document.</p><div class="declare-step"><p>Summary</p><table class="tableaux"><thead><tr><th class="port">Input port</th><th class="check">Primary</th><th class="check">Sequence</th><th>Content types</th><th class="binding">Default binding</th></tr></thead><tbody><tr><td><a href="#port.inline.source-1">source</a></td><td class="check"> </td><td class="check"> </td><td>xml html </td><td></td></tr><tr><td><a href="#port.inline.stylesheet-1">stylesheet</a></td><td class="check"> </td><td class="check">✔ </td><td>text </td><td>p:empty</td></tr></tbody></table><table class="tableaux"><thead><tr><th class="port">Output port</th><th class="check">Primary</th><th class="check">Sequence</th><th>Content types</th><th class="binding">Default binding</th></tr></thead><tbody><tr><td class="primary">result</td><td class="check">✔ </td><td class="check"> </td><td>any </td><td></td></tr></tbody></table><table class="tableaux"><thead><tr><th>Option name</th><th>Type</th><th>Default value</th></tr></thead><tbody><tr><td><a href="#opt.inline.content-type-1">content-type</a></td><td>xs:string?</td><td>()</td></tr><tr><td><a href="#opt.inline.parameters-1">parameters</a></td><td>map(xs:QName,item()*)?</td><td>()</td></tr></tbody></table><details><summary>Errors</summary><table class="tableaux"><thead><tr><th>Error code</th><th>Description</th></tr></thead><tbody><tr><td class="errcode"><a href="#err.inline.C0166&#34;">err:XC0166</a></td><td class="description">It is a dynamic error if the requested document cannot be produced.</td></tr><tr><td class="errcode"><a href="#err.inline.C0204&#34;">err:XC0204</a></td><td class="description">It is a dynamic error if the requested content-type is not supported.</td></tr><tr><td class="errcode"><a href="#err.inline.D0079&#34;">err:XD0079</a></td><td class="description">It is a dynamic error if a supplied content-type is not a valid media type of the form “type/subtype+ext” or “type/subtype”.</td></tr></tbody></table></details><details><summary>Implementation details</summary><table class="tableaux"><thead><tr><th>Implementation</th><th>Description</th></tr></thead><tbody><tr><td><a href="#impl-1">Defined</a></td><td class="description">The use of media type parameters on the content-type option is implementation-defined.</td></tr><tr><td><a href="#impl-2">Defined</a></td><td class="description">If the content-type option is not specified, the output type is implementation-defined.</td></tr><tr><td><a href="#impl-3">Defined</a></td><td class="description">The precise way that the p:css-formatter step selects stylesheets is implementation-defined.</td></tr><tr><td><a href="#impl-4">Defined</a></td><td class="description">A formatter may take any number of optional rendering parameters via the step's parameters; such parameters are defined by the CSS implementation used and are implementation-defined.</td></tr><tr><td><a href="#impl-5">Defined</a></td><td class="description">The CSS level and the particular CSS features supported by p:css-formatter are implementation-defined.</td></tr></tbody></table></details><details><summary>Declaration</summary><p class="element-syntax element-syntax-declare-step"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:css-formatter</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml html</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">stylesheet</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">text</code><code>"</code><code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code>&gt;</code><br />          <code>&lt;p:empty/&gt;</code><br />     <code>&lt;/p:input&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">any</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">parameters</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">map(xs:QName,item()*)?</code><code>"</code><code>/&gt;</code><code>     </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">content-type</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string?</code><code>"</code><code>/&gt;</code><code>               </code></span><br /><code>&lt;/p:declare-step&gt;</code></p></details></div><p>The document on the <a id="port.inline.source-1"></a><code class="port">source</code> port is formatted using one or more CSS stylesheets. The content-type of the output is controlled by the <a id="opt.inline.content-type-1"></a><code class="option">content-type</code> option. This option specifies a media type as defined by [<a href="#media-types"><span class="abbrev">IANA Media Types</span></a>]. <a id="err.inline.D0079&#34;"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.D0079"><code class="errqname">err:XD0079</code></a>) if a supplied content-type is not a valid media type of the form “<code class="literal"><em class="replaceable"><code>type</code></em>/<em class="replaceable"><code>subtype</code></em>+<em class="replaceable"><code>ext</code></em></code>” or “<code class="literal"><em class="replaceable"><code>type</code></em>/<em class="replaceable"><code>subtype</code></em></code>”. The option may include media type parameters as well (e.g. "application/someformat; charset=UTF-8"). <span id="impl-1">The use of media type parameters on the <a id="opt.inline.content-type-2"></a><code class="option">content-type</code> option is <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span><span id="impl-2">If the <a id="opt.inline.content-type-3"></a><code class="option">content-type</code> option is not specified, the output type is <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span> The default <span class="rfc2119" id="c.css-formatter.4.7">should</span> be PDF. <a id="err.inline.C0204&#34;"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0204"><code class="errqname">err:XC0204</code></a>) if the requested content-type is not supported. </p><p>If one or more stylesheets are provided on the <a id="port.inline.stylesheet-1"></a><code class="port">stylesheet</code> port, they <span class="rfc2119" id="c.css-formatter.5.2">should</span> be used. <span id="impl-3">The precise way that the <code class="tag-element">p:css-formatter</code> step selects stylesheets is <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span> Because CSS stylesheets may have import statements that rely on relative URI references, it may be more convenient for authors and implementors to allow stylesheets to be specified as a list of URIs (in, for example, one of the <a id="opt.inline.parameters-1"></a><code class="option">parameters</code>).</p><p><span id="impl-4">A formatter may take any number of optional rendering parameters via the step's <a id="opt.inline.parameters-2"></a><code class="option">parameters</code>; such parameters are defined by the CSS implementation used and are <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span></p><p><span id="impl-5">The CSS level and the particular CSS features supported by <code class="tag-element">p:css-formatter</code> are <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span></p><p><a id="err.inline.C0166&#34;"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0166"><code class="errqname">err:XC0166</code></a>) if the requested document cannot be produced. </p><section id="c.css-formatter.9" class="simplesect"><div class="section-titlepage"><h4>Document properties</h4></div><div class="content"><p>No document properties are preserved.</p></div></section></div></section><section id="c.xsl-formatter" class="section"><div class="section-titlepage"><h3><bdi class="secno">2.2. </bdi>p:xsl-formatter<a aria-label="§" class="self-link" href="#c.xsl-formatter"></a></h3></div><div class="content"><p>The <code class="tag-element">p:xsl-formatter</code> step receives an [<a href="#xsl11"><span class="abbrev">XSL 1.1</span></a>] document and renders the content.</p><div class="declare-step"><p>Summary</p><table class="tableaux"><thead><tr><th class="port">Input port</th><th class="check">Primary</th><th class="check">Sequence</th><th>Content types</th></tr></thead><tbody><tr><td class="primary">source</td><td class="check">✔ </td><td class="check"> </td><td>xml </td></tr></tbody></table><table class="tableaux"><thead><tr><th class="port">Output port</th><th class="check">Primary</th><th class="check">Sequence</th><th>Content types</th></tr></thead><tbody><tr><td class="primary">result</td><td class="check">✔ </td><td class="check"> </td><td>any </td></tr></tbody></table><table class="tableaux"><thead><tr><th>Option name</th><th>Type</th><th>Default value</th></tr></thead><tbody><tr><td><a href="#opt.inline.content-type-4">content-type</a></td><td>xs:string?</td><td>()</td></tr><tr><td><a href="#opt.inline.parameters-3">parameters</a></td><td>map(xs:QName,item()*)?</td><td>()</td></tr></tbody></table><details><summary>Errors</summary><table class="tableaux"><thead><tr><th>Error code</th><th>Description</th></tr></thead><tbody><tr><td class="errcode"><a href="#err.inline.C0167&#34;">err:XC0167</a></td><td class="description">It is a dynamic error if the requested document cannot be produced.</td></tr><tr><td class="errcode"><a href="#err.inline.C0204.1&#34;">err:XC0204</a></td><td class="description">It is a dynamic error if the requested content-type is not supported.</td></tr><tr><td class="errcode"><a href="#err.inline.D0079.1&#34;">err:XD0079</a></td><td class="description">It is a dynamic error if a supplied content-type is not a valid media type of the form “type/subtype+ext” or “type/subtype”.</td></tr></tbody></table></details><details><summary>Implementation details</summary><table class="tableaux"><thead><tr><th>Implementation</th><th>Description</th></tr></thead><tbody><tr><td><a href="#impl-6">Defined</a></td><td class="description">The use of media type parameters on the content-type option is implementation-defined.</td></tr><tr><td><a href="#impl-7">Defined</a></td><td class="description">If the content-type option is not specified, the output type is implementation-defined.</td></tr><tr><td><a href="#impl-8">Defined</a></td><td class="description">A formatter may take any number of optional rendering parameters via the step's parameters; such parameters are defined by the XSL implementation used and are implementation-defined.</td></tr></tbody></table></details><details><summary>Declaration</summary><p class="element-syntax element-syntax-declare-step"><span class="decl"><code>&lt;p:declare-step</code><code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:xsl-formatter</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">xml</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code><code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">any</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">parameters</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">map(xs:QName,item()*)?</code><code>"</code><code>/&gt;</code><code>     </code></span><br />     <span class="opt-opt"><code>&lt;p:option</code><code class="attr name-attr">name</code><code>="</code><code class="value name-value">content-type</code><code>"</code><code class="attr as-attr">as</code><code>="</code><code class="value as-value">xs:string?</code><code>"</code><code>/&gt;</code><code>               </code></span><br /><code>&lt;/p:declare-step&gt;</code></p></details></div><p>The content-type of the output is controlled by the <a id="opt.inline.content-type-4"></a><code class="option">content-type</code> option. This option specifies a media type as defined by [<a href="#media-types"><span class="abbrev">IANA Media Types</span></a>]. <a id="err.inline.D0079.1&#34;"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.D0079"><code class="errqname">err:XD0079</code></a>) if a supplied content-type is not a valid media type of the form “<code class="literal"><em class="replaceable"><code>type</code></em>/<em class="replaceable"><code>subtype</code></em>+<em class="replaceable"><code>ext</code></em></code>” or “<code class="literal"><em class="replaceable"><code>type</code></em>/<em class="replaceable"><code>subtype</code></em></code>”. The option may include media type parameters as well (e.g. "application/someformat; charset=UTF-8"). <span id="impl-6">The use of media type parameters on the <a id="opt.inline.content-type-5"></a><code class="option">content-type</code> option is <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span></p><p><span id="impl-7">If the <a id="opt.inline.content-type-6"></a><code class="option">content-type</code> option is not specified, the output type is <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span> The default <span class="rfc2119" id="c.xsl-formatter.5.2">should</span> be PDF. <a id="err.inline.C0204.1&#34;"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0204"><code class="errqname">err:XC0204</code></a>) if the requested content-type is not supported. </p><p><span id="impl-8">A formatter may take any number of optional rendering parameters via the step's <a id="opt.inline.parameters-3"></a><code class="option">parameters</code>; such parameters are defined by the XSL implementation used and are <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span></p><p>The output of this step is a document containing the result of processing. This is often, but not necessarily, a PDF document.</p><p><a id="err.inline.C0167&#34;"></a>It is a <em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em> (<a href="#err.C0167"><code class="errqname">err:XC0167</code></a>) if the requested document cannot be produced. </p><section id="c.xsl-formatter.9" class="simplesect"><div class="section-titlepage"><h4>Document properties</h4></div><div class="content"><p>No document properties are preserved.</p></div></section></div></section></div></section><section id="errors" class="section"><div class="section-titlepage"><h2><bdi class="secno">3. </bdi>Step Errors<a aria-label="§" class="self-link" href="#errors"></a></h2></div><div class="content"><p>This step can raise <em class="glossterm"><a href="#dt-dynamic-error">dynamic errors</a></em>. </p><p><span id="dt-dynamic-error" class="termdef">[Definition: A <em class="glossterm">dynamic error</em> is one which occurs while a pipeline is being evaluated.]</span> Examples of dynamic errors include references to URIs that cannot be resolved, steps which fail, and pipelines that exhaust the capacity of an implementation (such as memory or disk space). For a more complete discussion of dynamic errors, see <cite><a href="../xproc/#dynamic-errors">Dynamic Errors</a></cite> in <cite><a href="../xproc/">XProc 3.0: An XML Pipeline Language</a></cite>. </p><p>If a step fails due to a dynamic error, failure propagates upwards until either a <code class="tag-element">p:try</code> is encountered or the entire pipeline fails. In other words, outside of a <code class="tag-element">p:try</code>, step failure causes the entire pipeline to fail.</p><p>The following errors can be raised by this step:</p><div id="step-error-summary"><dl class="errs"><dt id="err.C0166"><code class="errqname">err:XC0166</code></dt><dd><p>It is a dynamic error if the requested document cannot be produced.</p><p>See: <a href="#err.inline.C0166">p:css-formatter</a></p></dd><dt id="err.C0167"><code class="errqname">err:XC0167</code></dt><dd><p>It is a dynamic error if the requested document cannot be produced.</p><p>See: <a href="#err.inline.C0167">p:xsl-formatter</a></p></dd><dt id="err.C0204"><code class="errqname">err:XC0204</code></dt><dd><p>It is a dynamic error if the requested content-type is not supported.</p><p>See: <a href="#err.inline.C0204">p:css-formatter</a>, <a href="#err.inline.C0204.1">p:xsl-formatter</a></p></dd></dl></div></div></section><article id="conformance" class="appendix"><header class="appendix-titlepage"><h2><bdi class="secno">A. </bdi>Conformance<a aria-label="§" class="self-link" href="#conformance"></a></h2></header><div class="content"><p>Conformant processors <span class="rfc2119" id="conformance.2.1">must</span> implement all of the features described in this specification except those that are explicitly identified as optional.</p><p>Some aspects of processor behavior are not completely specified; those features are either <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> or <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</p><p><span id="dt-implementation-dependent" class="termdef">[Definition: An <em class="glossterm">implementation-dependent</em> feature is one where the implementation has discretion in how it is performed. Implementations are not required to document or explain how <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> features are performed.]</span></p><p><span id="dt-implementation-defined" class="termdef">[Definition: An <em class="glossterm">implementation-defined</em> feature is one where the implementation has discretion in how it is performed. Conformant implementations <span class="rfc2119" id="dt-implementation-defined.2">must</span> document how <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em> features are performed.]</span></p><section id="implementation-defined" class="section"><div class="section-titlepage"><h2><bdi class="secno">A.1. </bdi>Implementation-defined features<a aria-label="§" class="self-link" href="#implementation-defined"></a></h2></div><div class="content"><p>The following features are implementation-defined:</p><ol class="features"><li>The use of media type parameters on the content-type option is implementation-defined. See <a href="#c.css-formatter" title="p:css-formatter">Section 2.1, “p:css-formatter”</a>.</li><li>If the content-type option is not specified, the output type is implementation-defined. See <a href="#c.css-formatter" title="p:css-formatter">Section 2.1, “p:css-formatter”</a>.</li><li>The precise way that the p:css-formatter step selects stylesheets is implementation-defined. See <a href="#c.css-formatter" title="p:css-formatter">Section 2.1, “p:css-formatter”</a>.</li><li>A formatter may take any number of optional rendering parameters via the step's parameters; such parameters are defined by the CSS implementation used and are implementation-defined. See <a href="#c.css-formatter" title="p:css-formatter">Section 2.1, “p:css-formatter”</a>.</li><li>The CSS level and the particular CSS features supported by p:css-formatter are implementation-defined. See <a href="#c.css-formatter" title="p:css-formatter">Section 2.1, “p:css-formatter”</a>.</li><li>The use of media type parameters on the content-type option is implementation-defined. See <a href="#c.xsl-formatter" title="p:xsl-formatter">Section 2.2, “p:xsl-formatter”</a>.</li><li>If the content-type option is not specified, the output type is implementation-defined. See <a href="#c.xsl-formatter" title="p:xsl-formatter">Section 2.2, “p:xsl-formatter”</a>.</li><li>A formatter may take any number of optional rendering parameters via the step's parameters; such parameters are defined by the XSL implementation used and are implementation-defined. See <a href="#c.xsl-formatter" title="p:xsl-formatter">Section 2.2, “p:xsl-formatter”</a>.</li></ol></div></section></div></article><article id="references" class="appendix"><header class="appendix-titlepage"><h2><bdi class="secno">B. </bdi>References<a aria-label="§" class="self-link" href="#references"></a></h2></header><div class="content"><div id="references.2" class="bibliolist"><div id="xproc31" class="bibliomixed"><p>[<span class="abbrev">XProc 3.1</span>] <a href="https://spec.xproc.org/lastcall-2024-08/head/xproc/"><span class="citetitle"><cite>XProc 3.1: An XML Pipeline Language</cite></span></a>. Norman Walsh, Achim Berndzen, Gerrit Imsieke and Erik Siegel, editors. </p></div><div id="CSS" class="bibliomixed"><p>[<span class="abbrev">CSS</span>] <a href="https://www.w3.org/TR/css-2018/"><span class="citetitle"><cite>CSS Snapshot 2018</cite></span></a>. Tab Atkins Jr., Elika J. Etemad, and Florial Rivoal editors. W3C Note 22 January 2019.</p></div><div id="xsl11" class="bibliomixed"><p>[<span class="abbrev">XSL 1.1</span>] <a href="https://www.w3.org/TR/xsl/"><span class="citetitle"><cite>Extensible Stylesheet Language (XSL) Version 1.1</cite></span></a>. Anders Berglund, editor. W3C Recommendation. 5 December 2006.</p></div><div id="media-types" class="bibliomixed"><p>[<span class="abbrev">IANA Media Types</span>] <a href="https://www.iana.org/assignments/media-types/"><span class="citetitle"><cite>IANA MIME Media Types</cite></span></a>. Internet Engineering Task Force. </p></div></div></div></article><article id="glossary" class="appendix"><header class="appendix-titlepage"><h2><bdi class="secno">C. </bdi>Glossary<a aria-label="§" class="self-link" href="#glossary"></a></h2></header><div class="content"><div class="glosslist"><dl><dt id="glossary.2.1" class="glossentry"><em class="glossterm"><a href="#dt-dynamic-error">dynamic error</a></em></dt><dd class="glossdef"><p>A <em class="firstterm">dynamic error</em> is one which occurs while a pipeline is being evaluated.</p></dd><dt id="glossary.2.2" class="glossentry"><em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em></dt><dd class="glossdef"><p>An <em class="firstterm">implementation-defined</em> feature is one where the implementation has discretion in how it is performed. Conformant implementations <span class="rfc2119" id="glossary.2.2.2.1.2">must</span> document how <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em> features are performed.</p></dd><dt id="glossary.2.3" class="glossentry"><em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em></dt><dd class="glossdef"><p>An <em class="firstterm">implementation-dependent</em> feature is one where the implementation has discretion in how it is performed. Implementations are not required to document or explain how <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> features are performed.</p></dd></dl></div></div></article><article id="ancillary-files" class="appendix"><header class="appendix-titlepage"><h2><bdi class="secno">D. </bdi>Ancillary files<a aria-label="§" class="self-link" href="#ancillary-files"></a></h2></header><div class="content"><p>This specification includes by reference a number of ancillary files.</p><div class="variablelist"><dl><dt><span class="term"><a href="steps.xpl">steps.xpl</a></span></dt><dd><p>An XProc step library for the declared steps. </p></dd></dl></div></div></article></article><script src="js/prism.js"></script><script src="js/fixup.js"></script><script src="/js/scroll.js"></script></body></html>